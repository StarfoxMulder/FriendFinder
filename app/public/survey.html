<!DOCTYPE html>
<html lang="en">          
<head>
	<meta charset="UTF-8">
	<title>PetFriender</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Anton|Fugaz+One|Shrikhand|Yantramanav:500" rel="stylesheet">
	<script   src="https://code.jquery.com/jquery-3.1.0.min.js"   integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s="   crossorigin="anonymous"></script>
	 <!-- Compiled and minified CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css">

	  <!-- Compiled and minified JavaScript -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/js/materialize.min.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<link rel="stylesheet" href="../assets/css/main.css">
</head>

<body id="surveyP">
	<nav>
	    <div class="nav-wrapper #a7ffeb teal accent-1">
	        <a id="biglogo" class="brand-logo center #a7ffeb teal accent-1">
	      		PetFriender
	        </a>
	    </div>
	</nav>

    <div class="divider"></div>
	
	<div class="section">
		<div class="row">
			<div class="col s8 offset-s2" id="overview">
				The following ten questions will be used to find the best match for you and your pet! <br> <br> Each question is evaluated on a five point scale -- <br>
				Where responding '1' is least favorable or disagreement and '5' is expressing highly favorable or full agreement.  
				<br>
				With the exception of those marked with an *, each question is <b>required</b> to find your match!
			</div>
		</div>

		<div class="container">
		<div class="nav-wrapper subnav-filters">
			<div class="row">

				<form id="formValidate" class="col s12">
					<h5><strong>About You</strong></h5>
                    <h5>Your Name</h5>
                    <input type="text" name="" id="name" class="form-control" required >

                    <h5>Link to Photo of Yourself</h5>
                    <input type="text" name="" id="photo" class="form-control" required >

                    <h5><strong></strong></h5>
                    <h5>Your Pet's Name</h5>
                    <input type="text" name="" id="petName" class="form-control">

                    <h5>Type of Pet</h5>
                    <input type="text" name="" id="petType" class="form-control">
                    <hr>

				  <div class="row">
				  <div class="input-field col s12">
				    <select id="1">
				      <option value="0" selected>I believe that my pet experiences human emotions</option>
				      <option value="1">1</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5</option>
				    </select>
				    <label>About You Questions</label>
				  </div>
				  </div>

				  <div class="row">
				  <div class="input-field col s12">
				    <select id="2">
				      <option value="0" selected>I want to find someone who wants to spend as much (or more!) time with my pet as I do</option>
				      <option value="1">1</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5</option>
				    </select>
				    <label>About You Questions</label>
				  </div>
				  </div>

				  <div class="row">
				  <div class="input-field col s12">
				    <select id="3">
				      <option value="0" disabled selected>I want to find someone whose pet is highly sociable, potentially BFFs with my own pet</option>
				      <option value="1">1</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5</option>
				    </select>
				    <label>About You Questions</label>
				  </div>
				  </div>

				  <div class="row">
				  <div class="input-field col s12">
				    <select id="4">
				      <option value="0" disabled selected>My ideal first outing/date together would involve having our pets with us</option>
				      <option value="1">1</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5</option>
				    </select>
				    <label>About You Questions</label>
				  </div>
				  </div>

				  <div class="row">
				  <div class="input-field col s12">
				    <select id="5">
				      <option value="0" disabled selected>My pet is family</option>
				      <option value="1">1</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5</option>
				    </select>
				    <label>About You Questions</label>
				  </div>
				  </div>

				  <div class="row">
				  <div class="input-field col s12">
				    <select id="6">
				      <option value="0" disabled selected>I have absolutely no reservations about this whole thing!</option>
				      <option value="1">1</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5</option>
				    </select>
				    <label>About You Questions</label>
				  </div>
				  </div>

				  <div class="row">
				  <div class="input-field col s12">
				    <select id="7">
				      <option value="0" disabled selected>My pet is very quick to make friends with everyone!</option>
				      <option value="1">1</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5</option>
				    </select>
				    <label>About Your Pet Questions</label>
				  </div>
				  </div>

				  <div class="row">
				  <div class="input-field col s12">
				    <select id="8">
				      <option value="0" disabled selected>My pet runs off of rubs or other forms of physical affection</option>
				      <option value="1">1</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5</option>
				    </select>
				    <label>About Your Pet Questions</label>
				  </div>
				  </div>

				  <div class="row">
				  <div class="input-field col s12">
				    <select id="9">
				      <option value="0" disabled selected>My pet senses my needs and acts on them</option>
				      <option value="1">1</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5</option>
				    </select>
				    <label>About Your Pet Questions</label>
				  </div>
				  </div>

				  <div class="row">
				  <div class="input-field col s12">
				    <select id="10">
				      <option value="0" disabled selected>My pet will get along well with yours, regardless of species</option>
				      <option value="1">1</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5</option>
				    </select>
				    <label>About Your Pet Questions</label>
				  </div>
				  </div>

				  <div class="row">
				  <div class="col s3 offset-s9">
				  	<button id="submitBtn" class="btn waves-effect waves-light">
				  		Submit
				  		<i class="material-icons right">send</i>
				  	</button>
				  </div>
				  </div>

				</form>

			</div> <!-- end row for survey -->

		</div>	<!-- end container for survey -->
		</div>
		<a class="btn modal-trigger" href="#modal1"></a>
	</div> <!-- end section -->

    <div id="modal1" class="modal">
	  <div class="modal-content">
	    <div class="modal-body">
            <h3 id="matchName"></h3>
            <h3>&</h3>
            <h4 id="matchPetName"></h4>
            <div class="row">
            	<div class="col s4 offset-s1">
            		<img id="matchPhoto" src ="" alt="" height="160" width="180">
            	</div>
            	<div class="col s4 offset-s2">
            		<img id="matchPhotoPet" src ="" alt="" height="160" width="180">
            	</div>
            </div>
            <div class="row">
            	<button id="startConvo" class="btn waves-effect waves-light">Hit them up!</button>
            </div>
            <!-- <h4 id="matchPetType"></h4> -->
        </div>
	  </div>
	<!--   <div class="modal-footer">
	    <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Close</a>
	  </div> -->
	</div>



<!--     <script type="text/javascript">
		$('select').material_select();
	</script> -->

	<script>
		var currentURL = window.location.origin;
		console.log("This is the path of currentURL : "+currentURL);

		$(document).ready(function() {
       	 	// initializes dropdowns
        	$('select').material_select();
        	$('.modal-trigger').leanModal();
    	});

		AnsArray = [];

		$('#submitBtn').on('click', function () {

			userInfo = {
				name: $('#name').val(),
				photo: $('#photo').val(),
				petName: $('#petName').val(),
				petType: $('#petType').val(),
				answers: [
					$('#1').val(), $('#2').val(), $('#3').val(), $('#4').val(), $('#5').val(), 
					$('#6').val(), $('#7').val(), $('#8').val(), $('#9').val(), $('#10').val()
				]	
			};

			$.post(currentURL + "/api/friends", userInfo, function(data) {
				$('.modal-trigger').click();

				$('#matchName').text(data.name);
				$('#matchPhoto').attr("src", data.picture);
				$('#matchPhotoPet').attr("src", data.petPicture);
				$('#matchPetName').text(data.petName);
				$('#matchPetType').text(data.petType);

				console.log("This is data.name from inside of $.post :"+data.name);
				console.log("This is data.photo from inside of $.post :"+data.picture);
				console.log("This is data.photo from inside of $.post :"+data.petPicture);
				console.log("This is data.petName from inside of $.post :"+data.petName);
				console.log("This is data.petType from inside of $.post :"+data.petType);
			});		

			return false;
		});
	</script>

</body>

			<!-- 	.done(function (data) {
					// console.log(data);
					// console.log(reservations);
					// alert('Adding character...');
				}); -->

			<!-- 	I realized I was trying to use a bootstrap modal in Materialize!!! What an Idiot!!! -->

				<!-- Modal Codal -->
<!-- 	<div id="resultM" class="modal fade" role="dialog">
      <div class="modal-dialog">
 -->
        <!-- Modal content-->
<!--         <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">X</button>
            <h2 class="modal-title"><strong>Meet your new BFFs!!</strong></h2>
          </div>
          <div class="modal-body">
            <h2 id="matchName"></h2>
            <img id="matchPhoto" src ="" alt="" height="400" width="325">
            <h2 id="matchPetName"></h2>
            <h2 id="matchPetType"></h2>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" id="closeModal" data-dismiss="modal">Close</button>
          </div>
        </div>

      </div>
    </div> -->

<!--     	//// Attempt at form validation via materialize js \\\\
			//for each input-field, get option value
			// if val = 0, push to  and push it to answers []
			// $("#formValidate").validate({
			// 	rules: {
			// 		name: "required",
			// 		photo: {
			// 			required: true,
			// 			url: true },
			// 		1: "required",
			// 		2: "required",
			// 		3: "required",
			// 		4: "required",
			// 		5: "required",
			// 		6: "required",
			// 		7: "required",
			// 		8: "required",
			// 		9: "required",
			// 		10: "required"
			// 	},
			// 	messages: {
			// 		name: "Please enter your name :P",
			// 		photo: "Please include a URL for your picture.",
			// 		1: "Please select an answer for question 1",
			// 		2: "Please select an answer for question 2",
			// 		3: "Please select an answer for question 3",
			// 		4: "Please select an answer for question 4",
			// 		5: "Please select an answer for question 5",
			// 		6: "Please select an answer for question 6",
			// 		7: "Please select an answer for question 7",
			// 		8: "Please select an answer for question 8",
			// 		9: "Please select an answer for question 9",
			// 		10: "Please select an answer for question 10"
			// 	}
			// }
			// 	return false;
			// }); -->